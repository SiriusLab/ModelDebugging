--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _-ZlnYFU3EeSFKPWAb6JyAw,_BgZN0FUYEeSFKPWAb6JyAw
Element-Name: Rename non gen file to gen file
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _sZI3oFYREeSwtoSJCk7mLA
Runtime-Version: 1.5.0.201406151150
Save-Time: 10/17/14 5:27 PM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

get-view "Project Explorer" | get-tree | select "process.test" | get-menu "New/File" | click
with [get-window "New File"] {
    get-editbox -after [get-label "File name:"] | set-text "application.nongen"
    get-button Finish | click
}
get-view "Project Explorer" | get-tree | select "process.test/application.nongen" | key-type F2
with [get-window "Rename Resource"] {
    with [get-editbox -after [get-label "New name:"]] {
        set-text "application.gen"
    }
    get-button OK | click
}

get-view Test | get-tree | select "Setup generation"
with [get-view Test | get-tree] {
    get-item "Setup generation" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ComposedTask.gif" | verify-true
    get-item "Setup generation" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/greenTaskMarker.gif" | verify-true
}
get-view Test | get-label "Setup generation" | get-property caption | equals "Setup generation" | verify-true
get-view Test | get-tree 
    -after [get-label "Setup generation"] 
    | get-property itemCount | equals 0 | verify-true
get-view Test | get-tree 
    -after [get-label "Setup generation"] 
    -index 1 | get-property itemCount | equals 2 | verify-true
with [get-view Test | get-tree 
    -after [get-label "Setup generation"] 
    -index 1] {
    get-item "Create a project" | get-property caption | equals "Create a project" | verify-true
    get-item "Create a project" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ActionTask.gif" | verify-true
    get-item "Create a project" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/greenTaskMarker.gif" | verify-true
}
with [get-view Test | get-tree 
    -after [get-label "Setup generation"] 
    -index 1] {
    get-item "Create a file with .gen extension" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ActionTask.gif" | verify-true
    get-item "Create a file with .gen extension" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/greenTaskMarker.gif" | verify-true
}
get-view Test | get-tree 
    -after [get-label "Setup generation"] 
    -index 2 | get-property itemCount | equals 1 | verify-true
with [get-view Test | get-tree 
    -after [get-label "Setup generation"] 
    -index 2] {
    get-item "Create a folder src-gen after the name of the gen file" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ActionTask.gif" | verify-true
    get-item "Create a folder src-gen after the name of the gen file" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/yellowTaskMarker.gif" | verify-true
}

get-view Test | get-tree | select "Create a project"
with [get-view Test | get-tree] {
    get-item "Create a project" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ActionTask.gif" | verify-true
    get-item "Create a project" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/greenTaskMarker.gif" | verify-true
}
get-view Test | get-button Undo | get-property caption | equals Undo | verify-true
get-view Test | get-label "Create a project" | get-property caption | equals "Create a project" | verify-true
get-view Test | get-label "Create a new project into the workspace" | get-property caption 
    | equals "Create a new project into the workspace" | verify-true
get-view Test | get-tree -after [get-label "Create a new project into the workspace"] | get-property itemCount 
    | equals 0 | verify-true
get-view Test | get-tree -after [get-label "Create a new project into the workspace"] -index 1 | get-property itemCount 
    | equals 0 | verify-true
get-view Test | get-tree -after [get-label "Create a new project into the workspace"] -index 2 | get-property itemCount 
    | equals 1 | verify-true
with [get-view Test | get-tree -after [get-label "Create a new project into the workspace"] -index 2] {
    get-item "Create a file with .gen extension" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ActionTask.gif" | verify-true
    get-item "Create a file with .gen extension" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/greenTaskMarker.gif" | verify-true
}
get-view Test | get-tree | select "Create a file with .gen extension"
with [get-view Test | get-tree] {
    get-item "Create a file with .gen extension" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ActionTask.gif" | verify-true
    get-item "Create a file with .gen extension" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/greenTaskMarker.gif" | verify-true
}
get-view Test | get-tree -after [get-label "Create a new file with .gen extension"] | get-property itemCount | equals 1 
    | verify-true
with [get-view Test | get-tree -after [get-label "Create a new file with .gen extension"]] {
    get-item "Create a project" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ActionTask.gif" | verify-true
    get-item "Create a project" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/greenTaskMarker.gif" | verify-true
}
get-view Test | get-tree -after [get-label "Create a new file with .gen extension"] -index 1 | get-property itemCount 
    | equals 0 | verify-true
get-view Test | get-tree -after [get-label "Create a new file with .gen extension"] -index 2 | get-property itemCount 
    | equals 1 | verify-true
with [get-view Test | get-tree -after [get-label "Create a new file with .gen extension"] -index 2] {
    get-item "Create a folder src-gen after the name of the gen file" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ActionTask.gif" | verify-true
    get-item "Create a folder src-gen after the name of the gen file" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/yellowTaskMarker.gif" | verify-true
}
get-view Test | get-label "Create a file with .gen extension" | get-property caption 
    | equals "Create a file with .gen extension" | verify-true
get-view Test | get-label "Create a new file with .gen extension" | get-property caption 
    | equals "Create a new file with .gen extension" | verify-true
get-view Test | get-tree | select "Create a folder src-gen after the name of the gen file"
with [get-view Test | get-tree] {
    get-item "Create a folder src-gen after the name of the gen file" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ActionTask.gif" | verify-true
    get-item "Create a folder src-gen after the name of the gen file" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/yellowTaskMarker.gif" | verify-true
}
get-view Test | get-label "Create a folder src-gen after the name of the gen file" | get-property caption 
    | equals "Create a folder src-gen after the name of the gen file" | verify-true
get-view Test | get-label "Not done due to: Not ran yet." 
    | get-property caption | equals "Not done due to: Not ran yet." 
    | verify-true
get-view Test | get-label "Create a new folder src-gen after the name of the gen file" | get-property caption 
    | equals "Create a new folder src-gen after the name of the gen file" | verify-true
get-view Test | get-tree -after [get-label "Create a new folder src-gen after the name of the gen file"] 
    | get-property itemCount | equals 1 | verify-true
with [get-view Test | get-tree -after [get-label "Create a new folder src-gen after the name of the gen file"]] {
    get-item "Setup generation" | get-property "image.path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/obj16/ComposedTask.gif" | verify-true
    get-item "Setup generation" | get-property "image.decorations[0].path" 
        | equals "fr.obeo.dsl.process.edit/icons/full/deco16/greenTaskMarker.gif" | verify-true
}
get-view Test | get-tree -after [get-label "Create a new folder src-gen after the name of the gen file"] -index 1 
    | get-property itemCount | equals 0 | verify-true
get-view Test | get-tree -after [get-label "Create a new folder src-gen after the name of the gen file"] -index 2 
    | get-property itemCount | equals 0 | verify-true

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
