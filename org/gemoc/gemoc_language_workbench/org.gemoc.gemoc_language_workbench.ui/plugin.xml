<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         id="gemocLanguageDesignerBuilder"
         name="Gemoc Language Designer Project"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="true">
         <run
               class="org.gemoc.gemoc_language_workbench.ui.builder.GemocLanguageDesignerBuilder">
         </run>
      </builder>
   </extension>
   <extension
         id="gemocLanguageDesignerNature"
         name="xDSML Project Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.gemoc.gemoc_language_workbench.ui.builder.GemocLanguageDesignerNature">
         </run>
      </runtime>
      <builder
            id="org.gemoc.gemoc_language_workbench.ui.gemocLanguageDesignerBuilder">
      </builder>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            adaptable="true"
            objectClass="org.eclipse.core.resources.IProject"
            nameFilter="*"
            id="org.gemoc.gemoc_language_workbench.ui.addnature.contribution">
         <action
               class="org.gemoc.gemoc_language_workbench.ui.builder.ToggleNatureAction"
               enablesFor="+"
               icon="icons/IconeGemocLanguage-16.png"
               id="org.gemoc.gemoc_language_workbench.ui.addRemoveNatureAction"
               label="Add xDSML Nature"
               menubarPath="org.eclipse.ui.projectConfigure/additions">
         </action>
         <visibility>
         <and>
            <not>
                <objectState name="projectNature" value="org.gemoc.gemoc_language_workbench.ui.gemocLanguageDesignerNature"/>
            </not>
            <objectClass name="org.eclipse.core.resources.IProject" />
          </and>
         </visibility>
      </objectContribution>
      <objectContribution
            adaptable="true"
            objectClass="org.eclipse.core.resources.IProject"
            nameFilter="*"
            id="org.gemoc.gemoc_language_workbench.ui.removenature.contribution">
         <action
               class="org.gemoc.gemoc_language_workbench.ui.builder.ToggleNatureAction"
               enablesFor="+"
               icon="icons/IconeGemocLanguage-16.png"
               id="org.gemoc.gemoc_language_workbench.ui.addRemoveNatureAction"
               label="Remove xDSML Nature"
               menubarPath="org.eclipse.ui.projectConfigure/additions">
         </action>
         
	    <visibility>
	       <and>
	          <objectClass
	                name="org.eclipse.core.resources.IProject">
	          </objectClass>
	          <objectState
	                name="projectNature"
	                value="org.gemoc.gemoc_language_workbench.ui.gemocLanguageDesignerNature">
	          </objectState>
	       </and>
	    </visibility>
      </objectContribution>
   </extension>
   <extension
         id="xmlProblem"
         name="XML Problem"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.eclipse.core.resources.problemmarker">
      </super>
      <persistent
            value="true">
      </persistent>
   </extension>
   <extension
         point="org.eclipse.ui.ide.projectNatureImages">
      <image
            icon="icons/IconeGemocLanguage-10.png"
            id="org.gemoc.gemoc_language_workbench.ui.gemocLanguageDesignerNature.image"
            natureId="org.gemoc.gemoc_language_workbench.ui.gemocLanguageDesignerNature">
      </image>
   </extension>
   <!-- definitions of commands -->
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.CreateDomainModelProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.CreateDomainModelProject"
            name="CreateDomainModelProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.ShowDomainModelProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.ShowDomainModelProject"
            name="ShowDomainModelProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.SetRootEObjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.SetRootEObject"
            name="SetRootEObject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.CreateDSAProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.CreateDSAProject"
            name="CreateDSAProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.ShowDSAProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.ShowDSAProject"
            name="ShowDSAProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.CreateDSEProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.CreateDSEProject"
            name="CreateDSEProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.ShowDSEProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.ShowDSEProject"
            name="ShowDSEProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.CreateMoCProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.CreateMoCProject"
            name="CreateMoCProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.ShowMoCProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.ShowMoCProject"
            name="ShowMoCProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.CreateEditorProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.CreateEditorProject"
            name="CreateEditorProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.ShowEditorProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.ShowEditorProject"
            name="ShowEditorProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.CreateAnimatorProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.CreateAnimatorProject"
            name="CreateAnimatorProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.ShowAnimatorProjectHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.ShowAnimatorProject"
            name="ShowAnimatorProject">
      </command>
      <command
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.commands.MergeExtendedCCSLCommandHandler"
            id="org.gemoc.gemoc_language_workbench.ui.commands.MergeExtendedCCSL"
            name="Merge extendedCCSLFile or time model ino one XMI resource">
      </command>
   </extension>
   <!-- contributions to popup menus -->
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="true"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <menu
               icon="icons/IconeGemocLanguage-16.png"
               id="GemocLanguage.menu"
               label="GEMOC Language">
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.CreateDomainModelProject"
                  icon="icons/plus-16.png"
                  label="Create Domain Model Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <and>
                     <not>
                        <reference
                              definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasDomainModelProject">
                        </reference>
                     </not>
                     <reference
                           definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.IsEditorOrSelectionInGemocLanguageProject">
                     </reference>
                  </and>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.ShowDomainModelProject"
                  icon="icons/eye-16.png"
                  label="Show Domain Model Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasDomainModelProject">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.SetRootEObject"
                  icon="icons/plus-16.png"
                  label="Set root EObject"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasDomainModelProject">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.CreateEditorProject"
                  icon="icons/plus-16.png"
                  label="Create Editor Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.IsEditorOrSelectionInGemocLanguageProject">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.ShowEditorProject"
                  icon="icons/eye-16.png"
                  label="Show Editor Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasEditorProject">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.CreateDSAProject"
                  icon="icons/plus-16.png"
                  label="Create DSA Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <and>
                     <not>
                        <reference
                              definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasDSAProject">
                        </reference>
                     </not>
                     <reference
                           definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.IsEditorOrSelectionInGemocLanguageProject">
                     </reference>
                  </and>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.ShowDSAProject"
                  icon="icons/eye-16.png"
                  label="Show DSA Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasDSAProject">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.CreateMoCProject"
                  icon="icons/plus-16.png"
                  label="Create MoC Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <and>
                     <not>
                        <reference
                              definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasMoCProject">
                        </reference>
                     </not>
                     <reference
                           definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.IsEditorOrSelectionInGemocLanguageProject">
                     </reference>
                  </and>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.ShowMoCProject"
                  icon="icons/eye-16.png"
                  label="Show MoC Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasMoCProject">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.CreateDSEProject"
                  icon="icons/plus-16.png"
                  label="Create DSE Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <and>
                     <not>
                        <reference
                              definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasDSEProject">
                        </reference>
                     </not>
                     <reference
                           definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.IsEditorOrSelectionInGemocLanguageProject">
                     </reference>
                  </and>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.ShowDSEProject"
                  icon="icons/eye-16.png"
                  label="Show DSE Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasDSEProject">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.CreateAnimatorProject"
                  icon="icons/plus-16.png"
                  label="Create Animator Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <and>
                     <not>
                        <reference
                              definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasAnimatorProject">
                        </reference>
                     </not>
                     <reference
                           definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.IsEditorOrSelectionInGemocLanguageProject">
                     </reference>
                  </and>
               </visibleWhen>
            </command>
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.ShowAnimatorProject"
                  icon="icons/eye-16.png"
                  label="Show Animator Project"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasAnimatorProject">
                  </reference>
               </visibleWhen>
            </command>
         </menu>
      </menuContribution>
      <menuContribution
            allPopups="true"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <menu
               icon="icons/IconeGemocLanguage-16.png"
               id="GEMOCFile.Menu"
               label="GEMOC File">
            <command
                  commandId="org.gemoc.gemoc_language_workbench.ui.commands.MergeExtendedCCSL"
                  label="Merge into one XMI resource"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="selection">
                     <iterate
                           ifEmpty="false"
                           operator="and">
                        <and>
                           <adapt
                                 type="org.eclipse.core.resources.IFile">
                           </adapt>
                           <or>
                              <test
                                    property="org.eclipse.core.resources.extension"
                                    value="extendedCCSL">
                              </test>
                              <test
                                    property="org.eclipse.core.resources.extension"
                                    value="timemodel">
                              </test>
                           </or>
                        </and>
                     </iterate>
                  </with>
               </visibleWhen>
            </command>
         </menu>
      </menuContribution>
   </extension>
   <!-- expression definitions for simplifying the filtering of command and menu contributions -->
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="org.gemoc.gemoc_language_workbench.ui.definitions.IsSelectionInGemocLanguageProject">
         <iterate
               operator="or">
            <adapt
                  type="org.eclipse.core.resources.IResource">
               <test
                     property="org.eclipse.core.resources.projectNature "
                     value="org.gemoc.gemoc_language_workbench.ui.gemocLanguageDesignerNature">
               </test>
            </adapt>
         </iterate>
      </definition>
      <definition
            id="org.gemoc.gemoc_language_workbench.ui.definitions.IsEditorOrSelectionInGemocLanguageProject">
         <or>
            <with
                  variable="activeEditorInput">
               <adapt
                     type="org.eclipse.core.resources.IResource">
                  <test
                        property="org.eclipse.core.resources.projectNature "
                        value="org.gemoc.gemoc_language_workbench.ui.gemocLanguageDesignerNature">
                  </test>
               </adapt>
            </with>
            <reference
                  definitionId="org.gemoc.gemoc_language_workbench.ui.definitions.IsSelectionInGemocLanguageProject">
            </reference>
         </or>
      </definition>
      <definition
            id="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasDomainModelProject">
         <or>
            <with
                  variable="activeEditorInput">
               <adapt
                     type="org.eclipse.core.resources.IResource">
                  <test
                        property="org.eclipse.core.resources.projectPersistentProperty"
                        value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_DomainModel">
                  </test>
               </adapt>
            </with>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.eclipse.core.resources.IResource">
                     <test
                           property="org.eclipse.core.resources.projectPersistentProperty"
                           value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_DomainModel">
                     </test>
                  </adapt>
               </iterate>
            </with>
         </or>
      </definition>
      <definition
            id="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasEditorProject">
         <or>
            <with
                  variable="activeEditorInput">
               <adapt
                     type="org.eclipse.core.resources.IResource">
                  <test
                        property="org.eclipse.core.resources.projectPersistentProperty"
                        value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_editor">
                  </test>
               </adapt>
            </with>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.eclipse.core.resources.IResource">
                     <test
                           property="org.eclipse.core.resources.projectPersistentProperty"
                           value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_editor">
                     </test>
                  </adapt>
               </iterate>
            </with>
         </or>
      </definition>
      <definition
            id="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasDSAProject">
         <or>
            <with
                  variable="activeEditorInput">
               <adapt
                     type="org.eclipse.core.resources.IResource">
                  <test
                        property="org.eclipse.core.resources.projectPersistentProperty"
                        value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_DSA">
                  </test>
               </adapt>
            </with>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.eclipse.core.resources.IResource">
                     <test
                           property="org.eclipse.core.resources.projectPersistentProperty"
                           value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_DSA">
                     </test>
                  </adapt>
               </iterate>
            </with>
         </or>
      </definition>
      <definition
            id="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasDSEProject">
         <or>
            <with
                  variable="activeEditorInput">
               <adapt
                     type="org.eclipse.core.resources.IResource">
                  <test
                        property="org.eclipse.core.resources.projectPersistentProperty"
                        value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_DSE">
                  </test>
               </adapt>
            </with>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.eclipse.core.resources.IResource">
                     <test
                           property="org.eclipse.core.resources.projectPersistentProperty"
                           value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_DSE">
                     </test>
                  </adapt>
               </iterate>
            </with>
         </or>
      </definition>
      <definition
            id="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasMoCProject">
         <or>
            <with
                  variable="activeEditorInput">
               <adapt
                     type="org.eclipse.core.resources.IResource">
                  <test
                        property="org.eclipse.core.resources.projectPersistentProperty"
                        value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_MoC">
                  </test>
               </adapt>
            </with>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.eclipse.core.resources.IResource">
                     <test
                           property="org.eclipse.core.resources.projectPersistentProperty"
                           value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_MoC">
                     </test>
                  </adapt>
               </iterate>
            </with>
         </or>
      </definition>
      <definition
            id="org.gemoc.gemoc_language_workbench.ui.definitions.editorOrSelectionProjectHasAnimatorProject">
         <or>
            <with
                  variable="activeEditorInput">
               <adapt
                     type="org.eclipse.core.resources.IResource">
                  <test
                        property="org.eclipse.core.resources.projectPersistentProperty"
                        value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_animator">
                  </test>
               </adapt>
            </with>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.eclipse.core.resources.IResource">
                     <test
                           property="org.eclipse.core.resources.projectPersistentProperty"
                           value="org.gemoc.gemoc_language_workbench.ui.gemoc_project_has_animator">
                     </test>
                  </adapt>
               </iterate>
            </with>
         </or>
      </definition>
      <definition
            id="org.gemoc.gemoc_language_workbench.ui.definitions.isExtendedCCSLFile">
         <and>
            <test
                  property="extension"
                  value="extendedCCSL">
            </test>
            <instanceof
                  value="org.eclipse.core.resources.IFile">
            </instanceof>
         </and>
      </definition>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="org.gemoc.gemoc_language_workbench.ui"
            name="GEMOC Project">
      </category>
      <wizard
            category="org.gemoc.gemoc_language_workbench.ui"
            class="org.gemoc.gemoc_language_workbench.ui.wizards.CreateNewGemocLanguageProject"
            icon="icons/IconeGemocLanguage-16.png"
            finalPerspective="fr.obeo.dsl.viewpoint.ui.tools.perspective.modeling"
            id="org.gemoc.gemoc_language_workbench.ui.wizards.CreateNewGemocLanguageProject"
            name="New xDSML Project"
            project="true">
      </wizard>
      <wizard
            category="org.gemoc.gemoc_language_workbench.ui"
            class="org.gemoc.gemoc_language_workbench.ui.wizards.CreateNewDSEProject"
            finalPerspective="fr.obeo.dsl.viewpoint.ui.tools.perspective.modeling"
            icon="icons/IconeGemocLanguage-16.png"
            id="org.gemoc.gemoc_language_workbench.ui.wizards.CreateNewDSEProject"
            name="New DSE Project"
            project="true">
      </wizard>
   </extension>


   <extension
          point="org.eclipse.ui.perspectiveExtensions">
       <perspectiveExtension
             targetID="org.eclipse.sirius.ui.tools.perspective.modeling">
          <newWizardShortcut
                id="org.gemoc.gemoc_language_workbench.ui.wizards.CreateNewGemocLanguageProject">
          </newWizardShortcut>
          <newWizardShortcut
                id="org.gemoc.gemoc_language_workbench.ui.wizards.CreateNewDSEProject">
          </newWizardShortcut>
       </perspectiveExtension>
    </extension>
    
    
    <!-- DSE extensions -->
   <extension
         id="dse_builder"
         name="DSE Project Builder"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="true">
         <run
               class="org.gemoc.gemoc_language_workbench.ui.dse.GemocDSEBuilder">
         </run>
      </builder>
   </extension>
   <extension
         id="dse_nature"
         name="DSE Project Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.gemoc.gemoc_language_workbench.ui.dse.GemocDSENature">
         </run>
      </runtime>
      <builder
            id="org.gemoc.gemoc_language_workbench.ui.dse_builder">
      </builder>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            id="org.gemoc.gemoc_language_workbench.ui.dse.category"
            name="DSE commands">
      </category>
      <command
            categoryId="org.gemoc.gemoc_language_workbench.ui.dse.category"
            defaultHandler="org.gemoc.gemoc_language_workbench.ui.dse.AddRemoveGemocDSENatureHandler"
            id="org.gemoc.gemoc_language_workbench.ui.dse.addRemoveDSENature"
            name="Add/Remove DSE Project Nature">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="popup:org.eclipse.ui.projectConfigure?after=additions">
         <command
               commandId="org.gemoc.gemoc_language_workbench.ui.dse.addRemoveDSENature"
               label="Disable DSE builder"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <count
                        value="1">
                  </count>
                  <iterate>
                     <and>
                        <instanceof
                              value="org.eclipse.core.resources.IProject">
                        </instanceof>
                        <test
                              property="org.eclipse.core.resources.projectNature"
                              value="org.gemoc.gemoc_language_workbench.ui.dse_nature">
                        </test>
                     </and>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.gemoc.gemoc_language_workbench.ui.dse.addRemoveDSENature"
               label="Enable DSE builder"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <count
                        value="1">
                  </count>
                  <iterate>
                     <and>
                        <instanceof
                              value="org.eclipse.core.resources.IProject">
                        </instanceof>
                        <not>
                           <test
                                 property="org.eclipse.core.resources.projectNature"
                                 value="org.gemoc.gemoc_language_workbench.ui.dse_nature">
                           </test>
                        </not>
                     </and>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   <extension
         id="dse_problem"
         name="DSE Problem"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.eclipse.core.resources.problemmarker">
      </super>
      <persistent
            value="true">
      </persistent>
   </extension>
    
</plugin>
